<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Source Text — text • transltr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Source Text — text"><meta name="description" content="Structure source text and its translations."><meta property="og:description" content="Structure source text and its translations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">transltr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jeanmathieupotvin/transltr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Source Text</h1>
      <small class="dont-index">Source: <a href="https://github.com/jeanmathieupotvin/transltr/blob/main/R/class-text.R" class="external-link"><code>R/class-text.R</code></a></small>
      <div class="d-none name"><code>class-text.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Structure source text and its translations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">text</span><span class="op">(</span><span class="va">...</span>, source_lang <span class="op">=</span> <span class="fu"><a href="language.html">language_source_get</a></span><span class="op">(</span><span class="op">)</span>, algorithm <span class="op">=</span> <span class="fu"><a href="constants.html">algorithms</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_text</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Text'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Text'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'Text'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">merge_texts</span><span class="op">(</span><span class="va">...</span>, algorithm <span class="op">=</span> <span class="fu"><a href="constants.html">algorithms</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as_text</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'call'</span></span>
<span><span class="fu">as_text</span><span class="op">(</span><span class="va">x</span>, loc <span class="op">=</span> <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="op">)</span>, algorithm <span class="op">=</span> <span class="fu"><a href="constants.html">algorithms</a></span><span class="op">(</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Usage depends on the underlying function.</p><ul><li><p>Any number of <code><a href="class-location.html">Location</a></code> objects and/or named character
strings for <code>text()</code> (in no preferred order).</p></li>
<li><p>Any number of <code>Text</code> objects for <code>merge_texts()</code> and S3
method <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>.</p></li>
<li><p>Further arguments passed to or from other methods for <code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code>,
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, and <code>as_text()</code>.</p></li>
</ul></dd>


<dt id="arg-source-lang">source_lang<a class="anchor" aria-label="anchor" href="#arg-source-lang"></a></dt>
<dd><p>A non-empty and non-NA character string. The language of
the source text.</p>
<p>A language is usually a code (of two or three letters) for a native
language name. While users retain full control over codes, it is best
to use language codes stemming from well-known schemes such as
<a href="https://en.wikipedia.org/wiki/IETF_language_tag" class="external-link">IETF BCP 47</a>, or
<a href="https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes" class="external-link">ISO 639-1</a>.
Doing so maximizes portability and cross-compatibility between packages.</p></dd>


<dt id="arg-algorithm">algorithm<a class="anchor" aria-label="anchor" href="#arg-algorithm"></a></dt>
<dd><p>A non-empty and non-NA character string equal to <code>"sha1"</code>,
or <code>"utf8"</code>. The algorithm to use when hashing source information for
identification purposes.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Any <span style="R">R</span> object.</p></dd>


<dt id="arg-loc">loc<a class="anchor" aria-label="anchor" href="#arg-loc"></a></dt>
<dd><p>A <code><a href="class-location.html">Location</a></code> object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>text()</code>, <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>, and <code>as_text()</code> return an <code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> object of
class <code>Text</code>.</p>
<p><code>is_text()</code> returns a logical value.</p>
<p><code><a href="https://rdrr.io/r/base/format.html" class="external-link">format()</a></code> returns a character vector.</p>
<p><code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> returns argument <code>x</code> invisibly.</p>
<p><code>merge_texts()</code> returns a list of (combined) <code>Text</code> objects. It
can be empty if all underlying <code>Text</code> objects are empty.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A <code>Text</code> object is a piece of source text that is extracted from <span style="R">R</span>
source scripts.</p><ul><li><p>It (typically) has one or more <code><a href="class-location.html">Locations</a></code> within a project.</p></li>
<li><p>It has zero or more translations.</p></li>
</ul><p>The <code>Text</code> class structures this information and exposes a set of
methods to manipulate it.</p><div class="section">
<h3 id="combining-text-objects">Combining Text Objects<a class="anchor" aria-label="anchor" href="#combining-text-objects"></a></h3>


<p><code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> can only combine <code>Text</code> objects having the same <code>hash</code>.
This is equivalent to having the same <code>algorithm</code>, <code>source_lang</code>, and
<code>source_text</code>. In that case, the underlying translations and
<code><a href="class-location.html">Location</a></code> objects are combined and a new object is returned.
It throws an error if all <code>Text</code> objects are empty (they have no
set <code>source_lang</code>).</p>
<p><code>merge_texts()</code> is a generalized version of <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> that handles any number
of <code>Text</code> objects having possibly different hashes. It can be
viewed as a vectorized version of <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>. It silently ignores and drops
all empty <code>Text</code> objects.</p>
</div>

<div class="section">
<h3 id="coercion">Coercion<a class="anchor" aria-label="anchor" href="#coercion"></a></h3>


<p><code>as_text()</code> is an S3 generic function that attempts to coerce its argument
into a suitable <code>Text</code> object. <code>as_text.call()</code> is the method used
by <code><a href="find-source.html">find_source()</a></code> to coerce a <code><a href="https://rdrr.io/r/base/call.html" class="external-link">call</a></code> object to a <code>Text</code>
object. While it <em>can</em> be used, it should be avoided most of the time. Users
may extend it by defining their own methods.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>hash</code></dt>
<dd><p>A non-empty and non-NA character string. A reproducible
hash generated from <code>source_lang</code> and <code>source_text</code>, and by using
the algorithm specified by <code>algorithm</code>. It is used as a unique
identifier for the underlying <code>Text</code> object.</p>
<p>This is a <strong>read-only</strong> field. It is automatically updated
whenever fields <code>source_lang</code> and/or <code>algorithm</code> are updated.</p></dd>


<dt><code>algorithm</code></dt>
<dd><p>A non-empty and non-NA character string equal to <code>"sha1"</code>,
or <code>"utf8"</code>. The algorithm to use when hashing source information for
identification purposes.</p></dd>


<dt><code>source_lang</code></dt>
<dd><p>A non-empty and non-NA character string. The language of
the source text.</p>
<p>A language is usually a code (of two or three letters) for a native
language name. While users retain full control over codes, it is best
to use language codes stemming from well-known schemes such as
<a href="https://en.wikipedia.org/wiki/IETF_language_tag" class="external-link">IETF BCP 47</a>, or
<a href="https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes" class="external-link">ISO 639-1</a>.
Doing so maximizes portability and cross-compatibility between packages.</p></dd>


<dt><code>source_text</code></dt>
<dd><p>A non-empty and non-NA character string. The source text.
This is a <strong>read-only</strong> field.</p></dd>


<dt><code>languages</code></dt>
<dd><p>A character vector. Registered language
codes. This is a <strong>read-only</strong> field. Use methods below
to update it.</p></dd>


<dt><code>translations</code></dt>
<dd><p>A named character vector. Registered
translations of <code>source_text</code>, including the latter. Names
correspond to <code>languages</code>. This is a <strong>read-only</strong> field.
Use methods below to update it.</p></dd>


<dt><code>locations</code></dt>
<dd><p>A list of <code><a href="class-location.html">Location</a></code> objects giving
the location(s) of <code>source_text</code> in the underlying project. It
can be empty. This is a <strong>read-only</strong> field. Use methods below
to update it.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-Text-new"><code>Text$new()</code></a></p></li>
<li><p><a href="#method-Text-get_translation"><code>Text$get_translation()</code></a></p></li>
<li><p><a href="#method-Text-set_translation"><code>Text$set_translation()</code></a></p></li>
<li><p><a href="#method-Text-set_translations"><code>Text$set_translations()</code></a></p></li>
<li><p><a href="#method-Text-set_locations"><code>Text$set_locations()</code></a></p></li>
<li><p><a href="#method-Text-rm_translation"><code>Text$rm_translation()</code></a></p></li>
<li><p><a href="#method-Text-rm_location"><code>Text$rm_location()</code></a></p></li>
</ul></div><p></p><hr><a id="method-Text-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a <code>Text</code> object.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>algorithm <span class="op">=</span> <span class="fu"><a href="../reference/constants.html">algorithms</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>algorithm</code></dt>
<dd><p>A non-empty and non-NA character string equal to <code>"sha1"</code>,
or <code>"utf8"</code>. The algorithm to use when hashing source information for
identification purposes.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An <code><a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a></code> object of class <code>Text</code>.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Consider using text() instead.</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-get_translation"></a><div class="section">
<h3 id="method-get-translation-">Method <code>get_translation()</code><a class="anchor" aria-label="anchor" href="#method-get-translation-"></a></h3>
<p>Extract a translation, or the source text.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">get_translation</span><span class="op">(</span>lang <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lang</code></dt>
<dd><p>A non-empty and non-NA character string. The underlying language.</p>
<p>A language is usually a code (of two or three letters) for a native
language name. While users retain full control over codes, it is best
to use language codes stemming from well-known schemes such as
<a href="https://en.wikipedia.org/wiki/IETF_language_tag" class="external-link">IETF BCP 47</a>, or
<a href="https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes" class="external-link">ISO 639-1</a>
to maximize portability and cross-compatibility.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>A character string. <code>NULL</code> is returned if the requested
translation is not available.</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translation</span><span class="op">(</span><span class="st">"en"</span>, <span class="st">"Hello, world!"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">get_translation</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span>  <span class="co">## Outputs "Hello, world!"</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">get_translation</span><span class="op">(</span><span class="st">"fr"</span><span class="op">)</span>  <span class="co">## Outputs NULL</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-set_translation"></a><div class="section">
<h3 id="method-set-translation-">Method <code>set_translation()</code><a class="anchor" aria-label="anchor" href="#method-set-translation-"></a></h3>
<p>Register a translation, or the source text.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">set_translation</span><span class="op">(</span>lang <span class="op">=</span> <span class="st">""</span>, text <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lang</code></dt>
<dd><p>A non-empty and non-NA character string. The underlying language.</p>
<p>A language is usually a code (of two or three letters) for a native
language name. While users retain full control over codes, it is best
to use language codes stemming from well-known schemes such as
<a href="https://en.wikipedia.org/wiki/IETF_language_tag" class="external-link">IETF BCP 47</a>, or
<a href="https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes" class="external-link">ISO 639-1</a>
to maximize portability and cross-compatibility.</p></dd>


<dt><code>text</code></dt>
<dd><p>A non-empty and non-NA character string. A translation,
or the source text.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>This method is also used to register <code>source_lang</code> and
<code>source_text</code> <strong>before</strong> setting them as such. See Examples below.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>A <code>NULL</code>, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="co"># Register a pair of source_lang and source_text.</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translation</span><span class="op">(</span><span class="st">"en"</span>, <span class="st">"Hello, world!"</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"en"</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-set_translations"></a><div class="section">
<h3 id="method-set-translations-">Method <code>set_translations()</code><a class="anchor" aria-label="anchor" href="#method-set-translations-"></a></h3>
<p>Register one or more translations, and/or the source
text.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">set_translations</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Any number of named, non-empty, and non-NA character
strings.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>This method can be viewed as a vectorized version of
method <code>set_translation()</code>.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A <code>NULL</code>, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translations</span><span class="op">(</span>en <span class="op">=</span> <span class="st">"Hello, world!"</span>, fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-set_locations"></a><div class="section">
<h3 id="method-set-locations-">Method <code>set_locations()</code><a class="anchor" aria-label="anchor" href="#method-set-locations-"></a></h3>
<p>Register one or more locations.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">set_locations</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>...</code></dt>
<dd><p>Any number of <code><a href="class-location.html">Location</a></code> objects.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>This method calls <code><a href="class-location.html">merge_locations()</a></code> to merge all
values passed to <code>...</code> together with previously registered
<code><a href="class-location.html">Location</a></code> objects. The underlying registered
paths and/or ranges won't be duplicated.</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A <code>NULL</code>, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_locations</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/class-location.html">location</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-rm_translation"></a><div class="section">
<h3 id="method-rm-translation-">Method <code>rm_translation()</code><a class="anchor" aria-label="anchor" href="#method-rm-translation-"></a></h3>
<p>Remove a registered translation.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">rm_translation</span><span class="op">(</span>lang <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>lang</code></dt>
<dd><p>A non-empty and non-NA character string identifying a
translation to be removed.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>You cannot remove <code>lang</code> when it is registered as the
current <code>source_lang</code>. You must update <code>source_lang</code> before
doing so.</p>
</div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A <code>NULL</code>, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translations</span><span class="op">(</span>en <span class="op">=</span> <span class="st">"Hello, world!"</span>, fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"en"</span></span>
<span></span>
<span><span class="co"># Remove source_lang and source_text.</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"fr"</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">rm_translation</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-Text-rm_location"></a><div class="section">
<h3 id="method-rm-location-">Method <code>rm_location()</code><a class="anchor" aria-label="anchor" href="#method-rm-location-"></a></h3>
<p>Remove a registered location.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Text</span><span class="op">$</span><span class="fu">rm_location</span><span class="op">(</span>path <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>A non-empty and non-NA character string identifying a
<code><a href="class-location.html">Location</a></code> object to be removed.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A <code>NULL</code>, invisibly.</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/class-text.html">Text</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_locations</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/class-location.html">location</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">rm_location</span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># Set source language.</span></span>
<span><span class="fu"><a href="language.html">language_source_set</a></span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create Text objects.</span></span>
<span><span class="va">txt1</span> <span class="op">&lt;-</span> <span class="fu">text</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9L</span>, <span class="fl">10L</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11L</span>, <span class="fl">12L</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13L</span>, <span class="fl">14L</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15L</span>, <span class="fl">16L</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  en <span class="op">=</span> <span class="st">"Hello, world!"</span>,</span>
<span>  fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span>,</span>
<span>  es <span class="op">=</span> <span class="st">"¡Hola, mundo!"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt2</span> <span class="op">&lt;-</span> <span class="fu">text</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  en <span class="op">=</span> <span class="st">"Hello, world!"</span>,</span>
<span>  fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span>,</span>
<span>  es <span class="op">=</span> <span class="st">"¡Hola, mundo!"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt3</span> <span class="op">&lt;-</span> <span class="fu">text</span><span class="op">(</span></span>
<span>  source_lang <span class="op">=</span> <span class="st">"fr2"</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span>,</span>
<span>  en  <span class="op">=</span> <span class="st">"Hello, world!"</span>,</span>
<span>  fr2 <span class="op">=</span> <span class="st">"Bonjour le monde!"</span>,</span>
<span>  es  <span class="op">=</span> <span class="st">"¡Hola, mundo!"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_text</span><span class="op">(</span><span class="va">txt1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Texts objects has a specific format.</span></span>
<span><span class="co"># print() calls format() internally, as expected.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">txt1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">txt2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">txt3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combine Texts objects.</span></span>
<span><span class="co"># c() throws an error if they do not have the same</span></span>
<span><span class="co"># hash (same souce_text, source_lang, and algorithm).</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">txt1</span>, <span class="va">txt2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Text objects with different hashes can be merged.</span></span>
<span><span class="co"># This groups Text objects according to their hashes</span></span>
<span><span class="co"># and calls c() on each group. It returns a list.</span></span>
<span><span class="fu">merge_texts</span><span class="op">(</span><span class="va">txt1</span>, <span class="va">txt2</span>, <span class="va">txt3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Objects can be coerced to a Text object with as_text(). Below is an</span></span>
<span><span class="co"># example for call objects. This is for illustration purposes only,</span></span>
<span><span class="co"># and the latter should not be used. This method is used internally by</span></span>
<span><span class="co"># find_source().</span></span>
<span><span class="va">cl</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">str2lang</a></span><span class="op">(</span><span class="st">"translate('Hello, world!')"</span><span class="op">)</span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"example in class-text"</span>, <span class="fl">2L</span>, <span class="fl">32L</span>, <span class="fl">2L</span>, <span class="fl">68L</span><span class="op">)</span></span>
<span><span class="fu">as_text</span><span class="op">(</span><span class="va">cl</span>, <span class="va">loc</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$new`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Consider using text() instead.</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$get_translation`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translation</span><span class="op">(</span><span class="st">"en"</span>, <span class="st">"Hello, world!"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">get_translation</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span>  <span class="co">## Outputs "Hello, world!"</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">get_translation</span><span class="op">(</span><span class="st">"fr"</span><span class="op">)</span>  <span class="co">## Outputs NULL</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$set_translation`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Register a pair of source_lang and source_text.</span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translation</span><span class="op">(</span><span class="st">"en"</span>, <span class="st">"Hello, world!"</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"en"</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$set_translations`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translations</span><span class="op">(</span>en <span class="op">=</span> <span class="st">"Hello, world!"</span>, fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$set_locations`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_locations</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$rm_translation`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_translations</span><span class="op">(</span>en <span class="op">=</span> <span class="st">"Hello, world!"</span>, fr <span class="op">=</span> <span class="st">"Bonjour, monde!"</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"en"</span></span>
<span></span>
<span><span class="co"># Remove source_lang and source_text.</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="va">source_lang</span> <span class="op">&lt;-</span> <span class="st">"fr"</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">rm_translation</span><span class="op">(</span><span class="st">"en"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span><span class="co">## Method `Text$rm_location`</span></span>
<span><span class="co">## ------------------------------------------------</span></span>
<span></span>
<span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="va">Text</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">set_locations</span><span class="op">(</span></span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">4L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="class-location.html">location</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">7L</span>, <span class="fl">8L</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">txt</span><span class="op">$</span><span class="fu">rm_location</span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jean-Mathieu Potvin, Jérôme Lavoué.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

